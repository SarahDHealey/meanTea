

<div>Order Total: {{view.cartFactory.runningTotal/100 | currency}}</div>

<form action="" method="POST">
  <script
    src="https://checkout.stripe.com/checkout.js" class="stripe-button"
    data-key="pk_test_VvbQRToFBFfrooB8dEHCtgA2"
    data-amount="15.99"
    data-name="Stripe.com"
    data-description="Widget"
    data-image="/img/documentation/checkout/marketplace.png"
    data-locale="auto"
    data-zip-code="true">
  </script>
</form>


<table class="table table-bordered">
  <tr>
    <th>Product</th>
    <th>Quantity</th>
    <th>Sub-total</th>
    <th></th>
  </tr>
  <tbody ng-repeat="product in myCart">
    <tr>
      <td>
        <h3>{{product.name}}</h3>
        <img src={{product.imageUrl}}>
        <h5><b>Price:</b> {{product.price / 100 | currency}}</h5>
        <h5><b>Ingredients:</b> {{product.ingredients}}</h5>
        <h5><b>Caffeine Scale:</b> {{product.caffeineScale}}</h5>
        <h5><b>Rating: </b>{{product.rating}}</h5>
      </td>
      <td>
        <span ng-hide='isEditing'>{{product.quantity}}</span>
        <span ng-show='isEditing'>
          <select ng-model='product.quantity'>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
          </select>
        </span>
      </td>
      <td>
        {{product.quantity * product.price / 100 | currency}}
      </td>
      <td>
        <button ng-hide='isEditing' type="button" class="btn btn-warning" ng-click="isEditing = !isEditing">Edit</button>
        <button ng-show='isEditing' type="button" class="btn btn-warning" ng-click="isEditing =!isEditing; view.update()">Update</button>
        <button type="button" class="btn btn-danger" ng-click="removeRow(tea.name); view.delete(product); view.update()">Remove</button>
      </td>
    </tr>
  </tbody>
</table>
